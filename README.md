# leptos-unique-ids

<!-- This file has been autogenerated.
To update it, change the content of `src/lib.rs`
and run `pre-commit run -a cargo-readme`
-->

[Leptos] library to ensure unique identifiers in components. Uses an attribute
macro + Dylint to generate unique identifiers for components, preventing conflicts
and ensuring consistency across your application.

## Installation

```toml
[dependencies]
leptos-unique-ids = "0.1"
leptos = "*"
```

## Usage

Create a module in your Leptos application to manage unique identifiers. It must
expose an enum with the name `Ids` and the `#[leptos_unique_ids]` attribute macro
applied to it.

```rust
// ids/src/lib.rs
use leptos_unique_ids::leptos_unique_ids;

#[leptos_unique_ids(
    "language-selector",
    "preview-download-svg-button",
    "preview-upload-svg-button",
)]
pub enum Ids {};
```

Then, in your components, you can use the `Ids` enum to generate unique identifiers.

```rust
use ids::Ids;

let id: &'static str = Ids::LanguageSelector.as_str();
let id: &'static str = Ids::PreviewDownloadSvgButton.into();
```

By default, implements [Leptos' `IntoAttributeValue` trait] for the `Ids` enum,
allowing you to use the identifiers as HTML attributes directly.

```rust
use leptos::prelude::*;
use ids::Ids;

#[component]
pub fn App() -> impl IntoView {
    view! {
        <div id=Ids::LanguageSelector>
            ...
        </div>
    }
}
```

### Linting

To ensure that your code adheres to the unique identifiers convention, use
Dylint lints provided by `leptos-unique-ids`.

First, install Dylint if you haven't already with

```bash
cargo install cargo-dylint dylint-link
```

and then, configure the lints in your workspace `Cargo.toml`.

```toml
[workspace.metadata.dylint]
libraries = [
  {
    git = "https://github.com/mondeja/leptos-unique-ids",
    tag = "v0.1.0",
    patterns = ["lints"]
  }
]
```

Now, when you run `cargo dylint`, it will check your code for any violations of
the unique identifiers convention. For example, the next code snippet:

```rust
view! {
    <div id="my-identifier">Hello, world!</div>
}
```


## Features

- `into-str` (enabled by default): Implements the `Into<&'static str>` trait for
  the `Ids` enum.
- `into-attribute-value` (enabled by default): Implements the
  [Leptos' `IntoAttributeValue` trait] in `Ids` enum, allowing to use the
  identifiers as HTML attributes directly. Require inclusion of `leptos`
  dependency in your consumer crate.

[Leptos]: https://leptos.dev
[Leptos' `IntoAttributeValue` trait]: https://docs.rs/leptos/latest/leptos/attr/trait.IntoAttributeValue.html
